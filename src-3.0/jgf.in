#!/bin/sh

prefix="@prefix@"

case "@host@" in
      *-cygwin)
          prefix=`cygpath -w "$prefix"`;;
esac

exec_prefix="@exec_prefix@"
GF_BIN_DIR="@bindir@"
GF_DATA_DIR="@datadir@/GF-@PACKAGE_VERSION@"

JAVA="@JAVA@"

GF="$GF_BIN_DIR/gf"
JARFILE="$GF_DATA_DIR/gf-java.jar"

if [ ! -x "${JAVA}" ]; then
    JAVA=`which java`
fi

if [ ! -x "${JAVA}" ]; then
    echo "No Java VM found."
    exit 1
fi

if [ ! -r "${JARFILE}" ]; then
   echo "Cannot read JAR file ${JARFILE}."
   exit 1
fi

if [ ! -x "${GF}" ]; then
   GF=`which gf`
fi

if [ ! -x "${GF}" ]; then
    echo "GF not found."
    exit 1
fi

exec "${JAVA}" -jar "${JARFILE}" "$GF -java $*"
